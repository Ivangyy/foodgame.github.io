function init(e){var i=window.location.search.indexOf("666")>0,c=generateData(e,i),r=[{data:"recipeId"},{data:"name"},{data:{_:"fire.value",display:"fire.display"}},{data:"stirfry"},{data:"boil"},{data:"cut"},{data:"fry"},{data:"roast"},{data:"steam"},{data:{_:"ingredients.value",display:"ingredients.display"}},{data:"price"},{data:{_:"time.value",display:"time.display"}},{data:"total"},{data:"totalPrice"},{data:{_:"totalTime.value",display:"totalTime.display"}},{data:"efficiency"},{data:"ingredientsEff"},{data:"origin"},{data:"unlock"},{data:"guests"},{data:{_:"levelGuests.value",display:"levelGuests.display"}},{data:"godRune"},{data:"get"},{data:"quality"},{data:"remark"}];for(j in c.chefs)$("#chk-recipe-show-chef").append("<option value='"+j+"'>"+c.chefs[j].name+"</option>"),$("#recipe-table thead tr").append("<th>"+c.chefs[j].name+"</th>").append("<th>效率</th>"),r.push({data:{_:"chefs."+j+".chefQlty.value",display:"chefs."+j+".chefQlty.display"},searchable:!1}),r.push({data:"chefs."+j+".chefEff",searchable:!1});var t=$("#recipe-table").DataTable({data:c.recipes,columns:r,language:{search:"查找:",lengthMenu:"一页显示 _MENU_ 个",zeroRecords:"没有找到",info:"第 _PAGE_ 页 共 _PAGES_ 页 _TOTAL_ 个菜谱",infoEmpty:"没有数据",infoFiltered:"(从 _MAX_ 个菜谱中过滤)"},pagingType:"numbers",lengthMenu:[[20,50,100,-1],[20,50,100,"所有"]],pageLength:20,dom:"<'row'<'col-sm-4'l><'col-sm-4 text-center'i><'col-sm-4'<'search-box'>>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'p>>",fixedHeader:!0});t.fixedHeader.disable(),$("#main-recipe div.search-box").html('<label>查找:<input type="search" class="form-control input-sm" placeholder="菜名 材料 贵客 符文"></label>'),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("recipe-table"))return!0;var r=$("#chk-recipe-fire-0").prop("checked"),t=$("#chk-recipe-fire-1").prop("checked"),n=$("#chk-recipe-fire-2").prop("checked"),s=$("#chk-recipe-fire-3").prop("checked"),a=$("#chk-recipe-fire-4").prop("checked"),l=$("#chk-recipe-fire-5").prop("checked"),p=parseInt(i[2])||0;return!!(r&&0==p||t&&1==p||n&&2==p||s&&3==p||a&&4==p||l&&5==p)}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){return e.nTable!=document.getElementById("recipe-table")||!!($("#chk-recipe-skill-stirfry").prop("checked")&&(parseInt(i[3])||0)>0||$("#chk-recipe-skill-boil").prop("checked")&&(parseInt(i[4])||0)>0||$("#chk-recipe-skill-cut").prop("checked")&&(parseInt(i[5])||0)>0||$("#chk-recipe-skill-fry").prop("checked")&&(parseInt(i[6])||0)>0||$("#chk-recipe-skill-roast").prop("checked")&&(parseInt(i[7])||0)>0||$("#chk-recipe-skill-steam").prop("checked")&&(parseInt(i[8])||0)>0||$("#chk-recipe-skill-unknown").prop("checked")&&0==(parseInt(i[3])||0)&&0==(parseInt(i[4])||0)&&0==(parseInt(i[5])||0)&&0==(parseInt(i[6])||0)&&0==(parseInt(i[7])||0)&&0==(parseInt(i[8])||0))}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("recipe-table"))return!0;var r=parseInt($("#input-recipe-price").val()),t=parseFloat(i[10])||0;return!!(isNaN(r)||r<t)}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("recipe-table"))return!0;var r=$("#chk-recipe-guest").prop("checked"),t=i[19];return!!(!r||r&&t)}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("recipe-table"))return!0;for(var r=$("#input-recipe-guest-rune").val(),t=[20,21],n=0,s=t.length;n<s;n++)if(i[t[n]].indexOf(r)!==-1)return!0;return!1}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("recipe-table"))return!0;for(var r=$("#main-recipe .search-box input").val().toLowerCase(),t=[0,1,9,19],n=0,s=t.length;n<s;n++)if(i[t[n]].toLowerCase().indexOf(r)!==-1)return!0;return!1}),$("#chk-recipe-show-chef").multiselect({templates:{filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div><a class="deselect-all">清空</a></li>'},enableFiltering:!0,filterPlaceholder:"查找",numberDisplayed:1,allSelectedText:"厨师",nonSelectedText:"厨师",nSelectedText:"厨师",maxHeight:200,onChange:function(e,r,n){initRecipeShow(t,c,i)}}),$(".chk-recipe-show-chef-wrapper .deselect-all").click(function(){$("#chk-recipe-show-chef").multiselect("deselectAll",!1),$("#chk-recipe-show-chef").multiselect("updateButtonText"),initRecipeShow(t,c,i)}),i&&($("#chk-recipe-show-origin").prop("checked",!1),$("#chk-recipe-show-get").parent(".btn").removeClass("hidden"),$("#chk-recipe-show-quality").prop("checked",!0).parent(".btn").removeClass("hidden"),$("#chk-recipe-show-remark").prop("checked",!0).parent(".btn").removeClass("hidden"),$("#chk-recipe-fixed-header").parent(".btn").removeClass("hidden"),$("#chk-recipe-get").prop("checked",!0).parents(".box").removeClass("hidden"),$("#chk-recipe-get").click(function(){t.draw()}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("recipe-table"))return!0;var r=$("#chk-recipe-get").prop("checked"),t=i[22];return!(r&&(!r||"true"!=t))})),initRecipeShow(t,c,i);var n=[{data:{_:"chefId.value",display:"chefId.display"}},{data:"name"},{data:{_:"fire.value",display:"fire.display"}},{data:"stirfry"},{data:"boil"},{data:"cut"},{data:"fry"},{data:"roast"},{data:"steam"},{data:{_:"specialSkill.value",display:"specialSkill.display"}},{data:"meat"},{data:"wheat"},{data:"veg"},{data:"fish"},{data:"sex"},{data:"origin"}];for(j in c.recipes)$("#chk-chef-show-recipe").append("<option value='"+j+"'>"+c.recipes[j].name+"</option>"),$("#chef-table thead tr").append("<th>"+c.recipes[j].name+"</th>"),n.push({data:{_:"recipes."+j+".recipeQlty.value",display:"recipes."+j+".recipeQlty.display"},searchable:!1});var s=$("#chef-table").DataTable({data:c.chefs,columns:n,language:{search:"查找:",lengthMenu:"一页显示 _MENU_ 个",zeroRecords:"没有找到",info:"第 _PAGE_ 页 共 _PAGES_ 页 _TOTAL_ 个厨师",infoEmpty:"没有数据",infoFiltered:"(从 _MAX_ 个厨师中过滤)"},pagingType:"numbers",lengthMenu:[[20,50,100,-1],[20,50,100,"所有"]],pageLength:20,dom:"<'row'<'col-sm-4'l><'col-sm-4 text-center'i><'col-sm-4'<'search-box'>>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'p>>",fixedHeader:!0});s.fixedHeader.disable(),$("#main-chef div.search-box").html('<label>查找:<input type="search" class="form-control input-sm" placeholder="名字 技能 来源"></label>'),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("chef-table"))return!0;var r=$("#chk-chef-fire-1").prop("checked"),t=$("#chk-chef-fire-2").prop("checked"),n=$("#chk-chef-fire-3").prop("checked"),s=$("#chk-chef-fire-4").prop("checked"),a=$("#chk-chef-fire-5").prop("checked"),l=parseInt(i[2])||0;return!!(r&&1==l||t&&2==l||n&&3==l||s&&4==l||a&&5==l)}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("chef-table"))return!0;var r=parseInt($("#input-chef-stirfry").val()),t=parseInt(i[3])||0,n=parseInt($("#input-chef-boil").val()),s=parseInt(i[4])||0,a=parseInt($("#input-chef-cut").val()),l=parseInt(i[5])||0,p=parseInt($("#input-chef-fry").val()),h=parseInt(i[6])||0,o=parseInt($("#input-chef-roast").val()),d=parseInt(i[7])||0,f=parseInt($("#input-chef-steam").val()),u=parseInt(i[8])||0;return!!((isNaN(r)||r<=t)&&(isNaN(n)||n<=s)&&(isNaN(a)||a<=l)&&(isNaN(p)||p<=h)&&(isNaN(o)||o<=d)&&(isNaN(f)||f<=u))}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("chef-table"))return!0;var r=$("#chk-chef-sex-male").prop("checked"),t=$("#chk-chef-sex-female").prop("checked"),n=i[14];return!!(r&&"男"==n||t&&"女"==n)}),$.fn.dataTableExt.afnFiltering.push(function(e,i,c){if(e.nTable!=document.getElementById("chef-table"))return!0;for(var r=$("#main-chef .search-box input").val().toLowerCase(),t=[1,9,15],n=0,s=t.length;n<s;n++)if(i[t[n]].toLowerCase().indexOf(r)!==-1)return!0;return!1}),$("#chk-chef-show-recipe").multiselect({templates:{filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div><a class="deselect-all">清空</a></li>'},enableFiltering:!0,filterPlaceholder:"查找",numberDisplayed:1,allSelectedText:"菜谱",nonSelectedText:"菜谱",nSelectedText:"菜谱",maxHeight:200,onChange:function(e,r,t){initChefShow(s,c,i)}}),$(".chk-chef-show-recipe-wrapper .deselect-all").click(function(){$("#chk-chef-show-recipe").multiselect("deselectAll",!1),$("#chk-chef-show-recipe").multiselect("updateButtonText"),initChefShow(s,c,i)}),initChefShow(s,c,i),$(".loading").hide(),$("#info").removeClass("hidden"),$("#main-recipe").removeClass("hidden"),t.draw(),$(".chk-recipe-show").click(function(){initRecipeShow(t,c,i)}),$("#chk-recipe-show-all").click(function(){$(".btn:not(.hidden) .chk-recipe-show:checked").length==$(".btn:not(.hidden) .chk-recipe-show").length?$(".btn:not(.hidden) .chk-recipe-show").prop("checked",!1):$(".btn:not(.hidden) .chk-recipe-show").prop("checked",!0),initRecipeShow(t,c,i)}),$("#chk-recipe-fixed-header").change(function(){$(this).prop("checked")?t.fixedHeader.enable():t.fixedHeader.disable()}),$('.chk-recipe-fire input[type="checkbox"]').click(function(){t.draw()}),$(".chk-recipe-skill").click(function(){$(this).prop("checked")&&$("#chk-recipe-single-skill").prop("checked")&&$(".chk-recipe-skill").not(this).prop("checked",!1),t.draw()}),$("#chk-recipe-single-skill").change(function(){$(this).prop("checked")&&$(".chk-recipe-skill:checked").length>1&&($(".chk-recipe-skill").prop("checked",!1),t.draw())}),$("#chk-recipe-skill-all").click(function(){$("#chk-recipe-single-skill").prop("checked")&&$("#chk-recipe-single-skill").bootstrapToggle("off"),$(".chk-recipe-skill").prop("checked",!0),t.draw()}),$("#input-recipe-price").keyup(function(){t.draw()}),$("#input-recipe-guest-rune").keyup(function(){t.draw()}),$("#chk-recipe-guest").click(function(){t.draw()}),$("#main-recipe .search-box input").keyup(function(){t.draw()}),$(".chk-chef-show").click(function(){initChefShow(s,c,i)}),$("#chk-chef-show-all").click(function(){$(".btn:not(.hidden) .chk-chef-show:checked").length==$(".btn:not(.hidden) .chk-chef-show").length?$(".btn:not(.hidden) .chk-chef-show").prop("checked",!1):$(".btn:not(.hidden) .chk-chef-show").prop("checked",!0),initChefShow(s,c,i)}),$("#chk-chef-fixed-header").change(function(){$(this).prop("checked")?s.fixedHeader.enable():s.fixedHeader.disable()}),$('.chk-chef-fire input[type="checkbox"]').click(function(){s.draw()}),$(".input-chef-skill").keyup(function(){s.draw()}),$("#btn-chef-skill-clear").click(function(){$(".input-chef-skill").val(""),s.draw()}),$('.chk-chef-sex input[type="checkbox"]').click(function(){s.draw()}),$("#main-chef .search-box input").keyup(function(){s.draw()}),$("#pagination-history").pagination({dataSource:c.history,callback:function(e,i){var c=historyTemplate(e);$("#data-history").html(c)},pageSize:5,showPageNumbers:!1,showNavigator:!0,showPrevious:!0,showNext:!0}),$("#chk-function-switch").change(function(){$(this).prop("checked")?($("#main-recipe").addClass("hidden"),$("#main-chef").removeClass("hidden")):($("#main-chef").addClass("hidden"),$("#main-recipe").removeClass("hidden"))})}function generateData(e,c){var r=new Object,t=new Array,s=0;for(i in e.chefs)if(e.chefs[i].name){t[s]=new Object,t[s].name=e.chefs[i].name,t[s].stirfry=e.chefs[i].stirfry||"",t[s].boil=e.chefs[i].boil||"",t[s].cut=e.chefs[i].cut||"",t[s].fry=e.chefs[i].fry||"",t[s].roast=e.chefs[i].roast||"",t[s].steam=e.chefs[i].steam||"",t[s].skill=e.chefs[i].skill,t[s].origin=e.chefs[i].origin,t[s].sex=e.chefs[i].sex,t[s].meat=e.chefs[i].meat||"",t[s].wheat=e.chefs[i].wheat||"",t[s].veg=e.chefs[i].veg||"",t[s].fish=e.chefs[i].fish||"",t[s].recipes=new Array,t[s].chefId={display:e.chefs[i].chefId+" - "+(e.chefs[i].chefId+2),value:e.chefs[i].chefId};var a="";for(j=0;j<e.chefs[i].fire;j++)a+="&#x2605;";t[s].fire={display:a,value:e.chefs[i].fire};var l="",p="";for(j in e.chefs[i].skill)l+=e.chefs[i].skill[j].type+" ",e.chefs[i].skill[j].addition&&(l+=100*e.chefs[i].skill[j].addition+"% "),p=e.chefs[i].skill[j].type;t[s].specialSkill={display:l,value:p},s++}r.chefs=t,r.history=e.history;var h=new Array,o=0;for(i in e.recipes)if(e.recipes[i].name){h[o]=new Object,h[o].recipeId=e.recipes[i].recipeId,h[o].name=e.recipes[i].name,h[o].stirfry=e.recipes[i].stirfry||"",h[o].boil=e.recipes[i].boil||"",h[o].cut=e.recipes[i].cut||"",h[o].fry=e.recipes[i].fry||"",h[o].roast=e.recipes[i].roast||"",h[o].steam=e.recipes[i].steam||"",h[o].price=e.recipes[i].price||"",h[o].time={display:0!=e.recipes[i].time?secondsToTime(e.recipes[i].time):"",value:0!=e.recipes[i].time?e.recipes[i].time:""},h[o].total=e.recipes[i].total||"",h[o].origin=e.recipes[i].origin,h[o].unlock=e.recipes[i].unlock,h[o].godRune=e.recipes[i].godRune,h[o].get=!!e.recipes[i].hasOwnProperty("personal"),h[o].quality=e.recipes[i].hasOwnProperty("personal")?e.recipes[i].personal.quality:"",h[o].remark=e.recipes[i].hasOwnProperty("personal")?e.recipes[i].personal.remark:"";var a="";for(j=0;j<e.recipes[i].fire;j++)a+="&#x2605;";h[o].fire={display:a,value:e.recipes[i].fire};var d=0,f=0,u=0;e.recipes[i].price>0&&e.recipes[i].time>0&&(u=3600*e.recipes[i].price/e.recipes[i].time,e.recipes[i].total>0&&(d=e.recipes[i].price*e.recipes[i].total,f=e.recipes[i].time*e.recipes[i].total)),h[o].totalPrice=d?d:"",h[o].totalTime={display:f?secondsToTime(f):"",value:f?f:""},h[o].efficiency=u?parseInt(u):"";var b="",$="",v=0;for(k in e.recipes[i].ingredient)e.recipes[i].ingredient[k].name&&(b+=e.recipes[i].ingredient[k].name+"*"+e.recipes[i].ingredient[k].quantity+" ",$+=e.recipes[i].ingredient[k].name,v+=e.recipes[i].ingredient[k].quantity);h[o].ingredients={display:b,value:$};var y=0;e.recipes[i].time>0&&(y=3600*v/e.recipes[i].time),h[o].ingredientsEff=y?parseInt(y):"";var w="",x="";for(g in e.recipes[i].guests)if(e.recipes[i].guests[g].guest){if(c&&e.recipes[i].hasOwnProperty("personal")&&("优"==e.recipes[i].personal.quality&&"优"==e.recipes[i].guests[g].quality||"特"==e.recipes[i].personal.quality&&"神"!=e.recipes[i].guests[g].quality||"神"==e.recipes[i].personal.quality))continue;w+=e.recipes[i].guests[g].quality+"-"+e.recipes[i].guests[g].guest+"<br>",x+=e.recipes[i].guests[g].guest}h[o].levelGuests={display:w,value:x};var I="";for(m in e.guests)for(n in e.guests[m].gifts)if(e.recipes[i].name==e.guests[m].gifts[n].recipe){I+=e.guests[m].name+"-"+e.guests[m].gifts[n].rune+"<br>";break}h[o].guests=I,h[o].chefs=new Array;for(j in r.chefs){var T=Number.MAX_VALUE;e.recipes[i].stirfry>0&&(T=r.chefs[j].stirfry>0?Math.min(T,r.chefs[j].stirfry/e.recipes[i].stirfry):0),T>=1&&e.recipes[i].boil>0&&(T=r.chefs[j].boil>0?Math.min(T,r.chefs[j].boil/e.recipes[i].boil):0),T>=1&&e.recipes[i].cut>0&&(T=r.chefs[j].cut>0?Math.min(T,r.chefs[j].cut/e.recipes[i].cut):0),T>=1&&e.recipes[i].fry>0&&(T=r.chefs[j].fry>0?Math.min(T,r.chefs[j].fry/e.recipes[i].fry):0),T>=1&&e.recipes[i].roast>0&&(T=r.chefs[j].roast>0?Math.min(T,r.chefs[j].roast/e.recipes[i].roast):0),T>=1&&e.recipes[i].steam>0&&(T=r.chefs[j].steam>0?Math.min(T,r.chefs[j].steam/e.recipes[i].steam):0);var E="-",_=0,O=0;if(T!=Number.MAX_VALUE&&T>=1){var S=0;T>=4?(S=.5,E="神",_=4):T>=3?(S=.3,E="特",_=3):T>=2?(S=.1,E="优",_=2):T>=1&&(S=0,E="可",_=1);var C=0;if(r.chefs[j].hasOwnProperty("skill"))for(k in r.chefs[j].skill){var N=!1;if(r.chefs[j].skill[k].type.indexOf("水产")>=0)for(m in e.recipes[i].ingredient)for(n in e.ingredients)if(e.recipes[i].ingredient[m].name==e.ingredients[n].name&&8==e.ingredients[n].originId){N=!0;break}if(r.chefs[j].skill[k].type.indexOf("面")>=0)for(m in e.recipes[i].ingredient)for(n in e.ingredients)if(e.recipes[i].ingredient[m].name==e.ingredients[n].name&&1==e.ingredients[n].originId){N=!0;break}if(r.chefs[j].skill[k].type.indexOf("肉")>=0)for(m in e.recipes[i].ingredient)for(n in e.ingredients)if(e.recipes[i].ingredient[m].name==e.ingredients[n].name&&(2==e.ingredients[n].originId||3==e.ingredients[n].originId||4==e.ingredients[n].originId)){N=!0;break}if(r.chefs[j].skill[k].type.indexOf("蔬菜")>=0)for(m in e.recipes[i].ingredient)for(n in e.ingredients)if(e.recipes[i].ingredient[m].name==e.ingredients[n].name&&(5==e.ingredients[n].originId||6==e.ingredients[n].originId||7==e.ingredients[n].originId)){N=!0;break}r.chefs[j].skill[k].type.indexOf("炒")>=0&&e.recipes[i].stirfry>0&&(N=!0),r.chefs[j].skill[k].type.indexOf("煮")>=0&&e.recipes[i].boil>0&&(N=!0),r.chefs[j].skill[k].type.indexOf("炸")>=0&&e.recipes[i].fry>0&&(N=!0),r.chefs[j].skill[k].type.indexOf("切")>=0&&e.recipes[i].cut>0&&(N=!0),r.chefs[j].skill[k].type.indexOf("烤")>=0&&e.recipes[i].roast>0&&(N=!0),r.chefs[j].skill[k].type.indexOf("蒸")>=0&&e.recipes[i].steam>0&&(N=!0),r.chefs[j].skill[k].type.indexOf("金币")>=0&&(N=!0),N&&(C+=r.chefs[j].skill[k].addition)}u>0&&(O=(1+S+C+(c?e.furniture:0))*u)}h[o].chefs.push({chefQlty:{display:E,value:_},chefEff:O?parseInt(O):""}),r.chefs[j].recipes.push({recipeQlty:{display:E,value:_}})}o++}return r.recipes=h,r}function initRecipeShow(e,i,c){e.column(0).visible($("#chk-recipe-show-id").prop("checked"),!1),e.column(2).visible($("#chk-recipe-show-fire").prop("checked"),!1);var r=$("#chk-recipe-show-skill").prop("checked");e.column(3).visible(r,!1),e.column(4).visible(r,!1),e.column(5).visible(r,!1),e.column(6).visible(r,!1),e.column(7).visible(r,!1),e.column(8).visible(r,!1),e.column(9).visible($("#chk-recipe-show-ingredient").prop("checked"),!1),e.column(10).visible($("#chk-recipe-show-price").prop("checked"),!1),e.column(11).visible($("#chk-recipe-show-time").prop("checked"),!1),e.column(12).visible($("#chk-recipe-show-total").prop("checked"),!1),e.column(13).visible($("#chk-recipe-show-total-price").prop("checked"),!1),e.column(14).visible($("#chk-recipe-show-total-time").prop("checked"),!1),e.column(15).visible($("#chk-recipe-show-efficiency").prop("checked"),!1),e.column(16).visible($("#chk-recipe-show-ingredient-efficiency").prop("checked"),!1),e.column(17).visible($("#chk-recipe-show-origin").prop("checked"),!1),e.column(18).visible($("#chk-recipe-show-unlock").prop("checked"),!1),e.column(19).visible($("#chk-recipe-show-guest").prop("checked"),!1),e.column(20).visible($("#chk-recipe-show-level-guest").prop("checked"),!1),e.column(21).visible($("#chk-recipe-show-god-rune").prop("checked"),!1),c?(e.column(22).visible($("#chk-recipe-show-get").prop("checked"),!1),e.column(23).visible($("#chk-recipe-show-quality").prop("checked"),!1),e.column(24).visible($("#chk-recipe-show-remark").prop("checked"),!1)):(e.column(22).visible(!1,!1),e.column(23).visible(!1,!1),e.column(24).visible(!1,!1));var t=$("#chk-recipe-show-chef").val();for(j=0;j<i.chefs.length;j++)e.column(25+2*j).visible(t.indexOf(j.toString())>-1,!1),e.column(26+2*j).visible(t.indexOf(j.toString())>-1,!1);e.columns.adjust().draw(!1)}function initChefShow(e,i,c){e.column(0).visible($("#chk-chef-show-id").prop("checked"),!1),e.column(2).visible($("#chk-chef-show-fire").prop("checked"),!1);var r=$("#chk-chef-show-skill").prop("checked");e.column(3).visible(r,!1),e.column(4).visible(r,!1),e.column(5).visible(r,!1),e.column(6).visible(r,!1),e.column(7).visible(r,!1),e.column(8).visible(r,!1),e.column(9).visible($("#chk-chef-show-special-skill").prop("checked"),!1);var t=$("#chk-chef-show-harvest").prop("checked");e.column(10).visible(t,!1),e.column(11).visible(t,!1),e.column(12).visible(t,!1),e.column(13).visible(t,!1),e.column(14).visible($("#chk-chef-show-sex").prop("checked"),!1),e.column(15).visible($("#chk-chef-show-origin").prop("checked"),!1);var n=$("#chk-chef-show-recipe").val();for(j=0;j<i.recipes.length;j++)e.column(16+j).visible(n.indexOf(j.toString())>-1,!1);e.columns.adjust().draw(!1)}function historyTemplate(e){var i="";return $.each(e,function(e,c){i+="<p>"+c+"</p>"}),i}function secondsToTime(e){e=Number(e);var i=Math.floor(e/3600/24),c=Math.floor(e/3600%24),r=Math.floor(e/60%60),t=Math.floor(e%60),n="";return i>0&&(n+=i+"天"),c>0&&(n+=c+"小时"),r>0&&(n+=r+"分"),t>0&&(n+=t+"秒"),n}$(function(){$.ajax({cache:!1,success:function(e){init(e)},url:"data/data.json"})});